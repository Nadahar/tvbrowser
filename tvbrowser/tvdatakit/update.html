<html>

	<head>
		<title>TV-Browser</title>
       <link rel="stylesheet" type="text/css" href="style.css">
	</head>
	<body>


<h1>PROGRAMMDATEN F&Uuml;R TV-BROWSER ANBIETEN</h1>
<h2>unter Verwendung der TV-Browser-Tools</h2>
<h1>Update von 1.x auf 2.x</h1>



<p>
<table>
<tr>
<td><strong>Autor:</strong></td>
<td>Martin Oberhauser</td>
</tr>
</table>
</p>

<p>
TV-Browser unterst&uuml;tzt ab Version 1.1 neue Features. Damit diese in den Daten genutzt werden k&ouml;nnen mu&szlig;ten wir die TV-Browser-Tools erweitern.
</p>
<p>
Auf dieser Seite werde ich die &Auml;nderungen erl&auml;utern und erkl&auml;ren, wie man von den Tools der Version 1.x auf die neue 2.x aktualisiert.
</p>
<p>
Eines kann ich schonmal vorwegnehmen:<br />
<strong>Ein Umstieg auf 2.x ist nicht zwingend erforderlich. TV-Browser 1.1 kann auch Daten laden, die mit &auml;lteren Tools aufbereitet worden sind. Umgekehrt können &auml;ltere TV-Browser-Version auch Daten laden, die von den neuen Tools erzeugt worden sind.<br />Ein Umstieg kann also jederzeit erfolgen und ist nur erforderlich, wenn man die neuen Features von TV-Browser 1.1 nutzen m&ouml;chte.</strong>
</p>
<p>
<strong>Bereits entwickelte PrimaryDataServices (PDS) m&uuml;ssen nicht angepa&szlig;t werden. Diese funktionieren nach wie vor.</strong>
</p>

<h3>Neu in TV-Browser 1.1 (und somit in den Tools 2.0)</h3>
<ul>
<li>Senderlogos</li>
<li>Sender-Kategorien (TV, Radio, Kino, Event, usw.)</li>
<li>Der Name des Anbieters kann angegeben werden</li>
</ul>

<h3>Installation</h3>

<p>
Zun&auml;chst entpacken wir das TV-Data-Kit (falls nicht eh schon passiert).<br />
</p>

<p>
Neu in 2.x ist das Verzeichnis <em>config</em> im workspace-Verzeichnis. Verschieben wir zun&auml;chst alle *.txt-Dateien aus dem alten <em>prepared</em>-Verzeichnis in das neue Verzeichnis <em>config</em>.<br />
Der neue DataManager l&auml;dt die txt-Dateien nicht mehr aus dem <em>prepared</em>, sondern aus dem <em>config</em>-Verzeichnis. So haben wir unser txt-Dateien immer griffbereit, wenn wir sie ver&auml;ndern wollen<br />
Au&szlig;erdem brauchen wir in unserem neuen prepared-Verzeichnis nat&uuml;rlich die Dateien aus dem alten prepared-Verzeichnis. Kopieren wir sie also her&uuml;ber (die txt-Dateien brauchen wir hier nicht mehr).
</p>
<p>
Als n&auml;chstes m&uuml;ssen wir eine neue Datei mit einem Texteditor erstellen und unter dem Namen <em>[Gruppenname]_channellist.txt</em> abspeichern - also z.B. myfirstgroup_channellist.txt.<br />
Diese Datei geh&ouml;rt ebenfalls in das <em>config</em>-Verzeichnis.<br />
Wie der Dateiname schon verr&auml;t, handelt es sich hierbei um die Senderliste. In den Tools der Version 1.x hat der DataManager uns die Senderliste automatisch erzeugt, jetzt machen wir das selber.
</p>

<p>
Der Aufbau der Senderliste ist ganz einfach: In jeder Zeile befinden sich die Angaben zu <em>einem</em> Sender.<br />

Aufbau einer Zeile:
</p>
<pre>land;zeitzone;senderID;sendername;copyright;sender-url;icon-url;sendercategorie</pre>
<p>
Land, Zeitzone, Sender-ID und Sendername sind unbedingt erforderlich. Die restlichen Angaben k&ouml;nnen auch weggelassen werden.
Eine Datei k&ouml;nnte z.B. so aussehen:
</p>
<pre>de;GMT+01:00;ard;ARD;(c) by DasErste/TV-Browser;http://www.ard.de;http://www.tvbrowser.org/icons/ard01.gif;3
de;GMT+01:00;rtl;RTL;;;;4
de;GMT+01:00;superrtl;SuperRTL
de;MET;zdf;ZDF;(c) by ZDF/TV-Browser
de;MET;vox;Vox;(c) by Vox;http://www.vox.de</pre>


<p>
Wichtig ist, da&szlig; alle Sender der Gruppe in dieser Datei vertreten sind.<br />
Die Angabe eines Icon-URL ist dabei optional. Fehlt diese, so stellt TV-Browser eben kein Icon zum Sender dar. (Der Strichpunkt mu&szlig; aber trotzdem gesetzt werden!)<br />
TV-Browser l&auml;dt das Icon jeweils nur 1x herunter. Erst wenn eine neue URL angegeben ist, wird TV-Browser veranla&szlig;t, das Icon neu zu laden. Sollte also ein Sender sein Logo &auml;ndern, so mu&szlig; in dieser Datei eine neue URL eingetragen werden. <strong>Das Icon mu&szlig; in einer Gr&ouml;&szlig;e von 40x20 Pixel vorliegen.</strong>
</p>
<p>
Der letzte Eintrag in der Zeile, <em>senderkategorie</em> bestimmt die Kategorie des Senders. In TV-Browser 1.1 k&ouml;nnen die Sender nach Kategorie gefiltert werden. Die Zahl f&uuml;r die Senderkategorie kann auf <a href="http://www.tvbrowser.org/pdsstarterkit/category.php">unserer Website</a> ermittelt werden.
</p>
<p>
TV-Browser 1.1 kann zu jedem Sender auch den Namen des Anbieters darstellen. Hierzu &ouml;ffnen wir die Datei <i>[Gruppenname]</i>.txt mit einem Texteditor und erweitern sie um die Zeile <pre>provider=Mein Name</pre>.
</p>

<p>
Damit sind wir ger&uuml;stet f&uuml;r die TV-Browser-Tools 2!
</p>

<h3>Der neue DataManager</h3>
<p>
Bisher haben wir den DataManager so gestartet: <pre>datamanager meinPDS</pre>
</p>

<p>
Da wir die Angaben zu den Sendern jetzt im config-Verzeichnis speichern und editieren k&ouml;nnen, braucht der DataManager unser PDS nicht mehr. Wir starten ihn nun so:
</p>
<pre>datamanager mygroup</pre>
<p>
mygroup ist dabei der Name der Gruppe, die wir anbieten.
</p>

<h3>Das neue ExcelPDS</h3>
<p>
Die &Auml;nderungen der TV-Daten-Tools erforderte auch eine &Auml;nderung des ExcelPDS. Wer mit ExcelPDS arbeitet, mu&szlig; unbedingt die neue Version des ExcelPDS verwenden.<br />
Die Excelsheets (*.xls) hingegen k&ouml;nnen trotzdem (mit einer Ausnahme) wie gewohnt verwendet werden. Allerdings ist zu beachten, da&szlig; die Informationen im oberen Bereich jetzt nicht mehr ben&ouml;tigt werden, da diese nun aus der Datei xxx_channellist.txt gelesen werden.<br />
Es ist nun nur noch das Feld <em>"Sender-ID"</em> und <em>Country Code</em> notwendig. Die restlichen Felder werden von ExcelPDS ignoriert.<br />
</p>

</p>

<h3>Das neue XmlTvPDS</h3>
<p>
Da die Informationen zu den Sendern jetzt in der Datei [gruppenID]_channels.txt gespeichert werden, ist die Datei <em>TvChannels.xml</em> nicht mehr notwendig. Diese kann daher gel&ouml;scht werden. <em>XmlTvPDS</em> ignoriert sie nun.<br />
Neu ist aber, da&szlig; die Channel-ID nun aus zwei Teilen besteht: der eigentlichen ID (wie bisherig) und (neu) einem <a href="http://www.chemie.fu-berlin.de/diverse/doc/ISO_3166.html">zweistellen L&auml;nderk&uuml;rzel</a>. Ein Beispiel einer Sender-ID k&ouml;nnte z.B. so aussehen: mychannel_ch
</p>



<h3>Noch Fragen?</h3>
<p>
Poste einfach im <a href="http://forum.tvbrowser.org">TV-Browser-Forum</a>!
</p>

<p>
<a href="index.html">Zur&uuml;ck zur &Uuml;bersicht</a>
</p>

</body>
</html>
